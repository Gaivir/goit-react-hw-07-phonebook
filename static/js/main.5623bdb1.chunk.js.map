{"version":3,"sources":["Components/ContactList/ContactList.module.css","redux/contacts/contacts-actions.js","redux/contacts/contacts-operations.js","redux/contacts/contacts-selectors.js","Components/ContactList/ContactList.jsx","Components/ContactForm/ContactForm.jsx","Components/Filter/Filter.jsx","App.js","redux/contacts/contacts-reducer.js","redux/store.js","index.js"],"names":["module","exports","fetchContactRequest","createAction","fetchContactSuccess","fetchContactError","addContactRequest","addContactSuccess","addContactError","deleteContactRequest","deleteContactSuccess","deleteContactError","onChangeFilter","axios","defaults","baseURL","dispatch","get","then","data","catch","error","name","number","contact","post","contactId","delete","getFilter","state","contacts","filter","getLoading","loading","getVisibleContacts","createSelector","items","normalizedFilter","toLowerCase","includes","connect","contactsSelectors","onDeleteContact","id","contactsOperations","map","className","styles","list","onClick","ContactForm","nameInputId","shortid","generate","numberInputId","handleNameChange","event","currentTarget","value","setState","handleSubmit","preventDefault","props","onSubmit","formReset","this","htmlFor","type","onChange","pattern","title","required","Component","changFilter","contactsActions","target","App","fetchContacts","isLoadingContacts","createReducer","payload","_","combineReducers","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","logger","store","configureStore","reducer","contactsReducer","devTools","process","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.5623bdb1.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"ContactList_list__1i1DD\",\"button\":\"ContactList_button__1Tttu\"};","\r\nimport { createAction } from '@reduxjs/toolkit';\r\n\r\nexport const fetchContactRequest = createAction('contacts/fetchContactRequest');\r\nexport const fetchContactSuccess = createAction('contacts/fetchContactSuccess');\r\nexport const fetchContactError = createAction('contacts/fetchContactError');\r\n\r\nexport const addContactRequest = createAction('contacts/addContactRequest');\r\nexport const addContactSuccess = createAction('contacts/addContactSuccess');\r\nexport const addContactError = createAction('contacts/addContactError');\r\n\r\nexport const deleteContactRequest = createAction('contacts/deleteContactRequest');\r\nexport const deleteContactSuccess = createAction('contacts/deleteContactSuccess');\r\nexport const deleteContactError = createAction('contacts/deleteContactError');\r\n\r\n// export const onDeleteContact = createAction('contacts/delete');\r\nexport const onChangeFilter = createAction('contacts/changeFilter');\r\n\r\n\r\n\r\n\r\n","\r\nimport axios from 'axios';\r\nimport {\r\n    addContactRequest,\r\n    addContactSuccess,\r\n    addContactError,\r\n    deleteContactRequest,\r\n    deleteContactSuccess,\r\n    deleteContactError,\r\n    fetchContactRequest,\r\n    fetchContactSuccess,\r\n    fetchContactError,\r\n} from './contacts-actions';\r\n\r\naxios.defaults.baseURL = 'http://localhost:4040';\r\n\r\nconst fetchContacts = () => dispatch => {\r\n    dispatch(fetchContactRequest());\r\n\r\n    axios\r\n        .get('/contacts')\r\n        .then(({ data }) =>\r\n            dispatch(fetchContactSuccess(data)))\r\n        .catch(error => dispatch(fetchContactError(error)));\r\n\r\n}\r\n\r\nconst formSubmitHandler = (name, number) => dispatch => {\r\n    const contact = {\r\n        name,\r\n        number,\r\n    };\r\n\r\n    dispatch(addContactRequest());\r\n        \r\n    axios\r\n        .post('/contacts', contact)\r\n        .then(({ data }) =>\r\n            dispatch(addContactSuccess(data)),)\r\n        .catch(error => dispatch(addContactError(error)));\r\n        \r\n};\r\n\r\nconst onDeleteContact = contactId => dispatch => {\r\n    dispatch(deleteContactRequest());\r\n\r\n    axios\r\n        .delete(`/contacts/${contactId}`)\r\n        .then(() => dispatch(deleteContactSuccess(contactId)))\r\n        .catch(error => dispatch(deleteContactError(error)));\r\n}\r\n\r\n\r\nexport default {\r\n    fetchContacts,\r\n    formSubmitHandler,\r\n    onDeleteContact,\r\n}","import { createSelector } from '@reduxjs/toolkit';\r\n\r\nconst getLoading = state => state.contacts.loading;\r\n\r\nconst getFilter = state => state.contacts.filter;\r\n\r\nconst getAllContacts = state => state.contacts.items;\r\n\r\n\r\nconst getVisibleContacts = createSelector(\r\n    [getAllContacts, getFilter],\r\n    (contacts, filter) => {\r\n        const normalizedFilter = filter.toLowerCase();\r\n\r\n        return contacts.filter(({ name }) =>\r\n        name.toLowerCase().includes(normalizedFilter),\r\n  );\r\n    },\r\n);\r\n\r\n\r\nexport default {\r\n    getLoading,\r\n    getFilter,\r\n    getVisibleContacts,\r\n};\r\n\r\n\r\n\r\n// const getVisibleContacts = state => {\r\n//     const contacts = getAllContacts(state);\r\n//     const filter = getFilter(state);\r\n//     const normalizedFilter = filter.toLowerCase();\r\n\r\n//     return contacts.filter(({ name }) =>\r\n//         name.toLowerCase().includes(normalizedFilter),\r\n//   );\r\n// };\r\n ","\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport styles from './ContactList.module.css';\r\nimport contactsOperations from '../../redux/contacts/contacts-operations';\r\nimport contactsSelectors from '../../redux/contacts/contacts-selectors';\r\n\r\n\r\nconst ContactList = ({ contacts, onDeleteContact }) => (\r\n    contacts.map(({ id, name, number }) => (\r\n        <ul>\r\n            <li key={id} className={styles.list}>{name}: {number}\r\n            <button onClick ={()=>onDeleteContact(id)}>Delete</button></li>\r\n        </ul>\r\n    ))\r\n);\r\n\r\n\r\nContactList.propTypes = {\r\n  contacts: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      id: PropTypes.string.isRequired,\r\n      name: PropTypes.string.isRequired,\r\n      number: PropTypes.string.isRequired,\r\n    }),\r\n  ),\r\n  onDeleteContact: PropTypes.func.isRequired,\r\n};\r\n\r\n\r\n  \r\n\r\nconst mapStateToProps = state => ({\r\n  contacts: contactsSelectors.getVisibleContacts(state),\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\nonDeleteContact: (id) => dispatch(contactsOperations.onDeleteContact(id)),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ContactList);","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport contactsOperations from '../../redux/contacts/contacts-operations';\r\nimport shortid from 'shortid';\r\n\r\nclass ContactForm extends Component {\r\n    state = {\r\n        name: '',\r\n        number: '',\r\n    };\r\n\r\n   nameInputId = shortid.generate();\r\n    numberInputId = shortid.generate();\r\n\r\n    handleNameChange = event => {\r\n    // console.log(event.currentTarget.value);\r\n    const { name, value } = event.currentTarget;\r\n\r\n    this.setState({ [name] : value });\r\n    };\r\n    \r\n\r\n     handleSubmit = event => {\r\n         const { name, number } = this.state;\r\n        event.preventDefault();\r\n         this.props.onSubmit(name, number);\r\n         this.formReset();\r\n        //  console.log(this.props.contacts);\r\n\r\n\r\n        //    const { name, number } = this.state;\r\n        // const { contacts } = this.props;\r\n        // event.preventDefault();\r\n        \r\n        // if (contacts.find((item) => item.name.toLowerCase() === name.toLowerCase())) {\r\n        //     alert(`${name} is already in contacts.`);\r\n        //     return {name: '', number: ''};\r\n        // } \r\n\r\n        // this.props.onSubmit(name, number);\r\n        //     this.formReset();\r\n        \r\n    }\r\n    \r\n\r\n\r\n    formReset = () => {\r\n        this.setState({\r\n            name: '',\r\n            number: '',\r\n        })\r\n    }\r\n\r\n\r\n\r\n    render() {\r\n        return (\r\n\r\n                <form onSubmit={this.handleSubmit}>\r\n          <label htmlFor={ this.nameInputId}>name\r\n                    <input\r\n                        type='text'\r\n                        name='name'\r\n                        value={this.state.name}\r\n                        onChange={this.handleNameChange}\r\n                        id={this.nameInputId}\r\n                    />\r\n                    </label>\r\n                    \r\n              \r\n                <label htmlFor={ this.numberInputId}>number\r\n                    <input\r\n                        type='tel'\r\n                    name='number'\r\n                    pattern=\"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}\"\r\n                    title=\"Номер телефона должен состоять цифр и может содержат ь пробелы, тире, круглые скобки и может начинаться с +\"\r\n                    required\r\n                        value={this.state.number}\r\n                        onChange={this.handleNameChange}\r\n                        id={this.numberInputId}\r\n                    />\r\n                </label>\r\n                \r\n                <button type='submit'>Add contacts</button>\r\n          \r\n        </form>\r\n\r\n        )\r\n    }\r\n}\r\n\r\n// const mapStateToProps = (state) => ({\r\n//      contacts: state.contact.contacts,\r\n// })\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    onSubmit: (name,number) => dispatch (contactsOperations.formSubmitHandler(name,number)),\r\n})\r\nexport default connect(null, mapDispatchToProps)(ContactForm);","// import styles from './Filter.module.css';\r\nimport { connect } from 'react-redux';\r\nimport * as contactsActions from '../../redux/contacts/contacts-actions';\r\nimport contactsSelectors from '../../redux/contacts/contacts-selectors';\r\n\r\nconst Filter = ({value, changFilter}) => (\r\n    <label>Find contacts by name\r\n        <input type=\"text\" value={value}\r\n        onChange ={changFilter}/>\r\n\r\n    </label>\r\n)\r\n\r\nconst mapStateToProps = (state) => ({\r\n    value: contactsSelectors.getFilter(state),\r\n})\r\nconst mapDispatchToProps = dispatch => ({\r\n    changFilter: (event) => dispatch(contactsActions.onChangeFilter(event.target.value)),\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps )(Filter);","import { Component } from \"react\";\nimport { connect } from 'react-redux';\nimport ContactList from './Components/ContactList/ContactList';\nimport ContactForm from './Components/ContactForm/ContactForm';\nimport Filter from './Components/Filter/Filter';\nimport contactsOperations from '../src/redux/contacts/contacts-operations';\nimport contactsSelectors from '../src/redux/contacts/contacts-selectors';\n\n\nclass App extends Component {\n\n  componentDidMount() {\n    this.props.fetchContacts();\n  }\n \n  render() {\n\n  return (   \n  <div>\n  <h1>Phonebook</h1>\n  <ContactForm />\n\n  <h2>Contacts</h2>\n  <Filter/>\n      <ContactList />\n      \n      {this.props.isLoadingContacts && <h1>Загружаем...</h1>}\n      \n</div>)\n\n\n} \n}\n\nconst mapStateToProps = state => ({\n  isLoadingContacts: contactsSelectors.getLoading(state),\n})\n\nconst mapDispatchToProps = dispatch => ({\n  fetchContacts: () => dispatch(contactsOperations.fetchContacts())\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps) (App);\n\n\n","import { combineReducers } from 'redux';\r\nimport { createReducer } from '@reduxjs/toolkit';\r\nimport {\r\n    addContactRequest,\r\n    addContactSuccess,\r\n    addContactError,\r\n    deleteContactRequest,\r\n    deleteContactSuccess,\r\n    deleteContactError,\r\n    onChangeFilter,\r\n    fetchContactRequest,\r\n    fetchContactSuccess,\r\n    fetchContactError\r\n} from './contacts-actions';\r\n\r\n\r\nconst items = createReducer([], {\r\n    [fetchContactSuccess]: (state, {payload}) => payload,\r\n    [addContactSuccess]: (state, { payload }) => [...state, payload],\r\n    [deleteContactSuccess]: (state, { payload }) => state.filter(({ id }) => id !== payload),\r\n});\r\n\r\nconst loading = createReducer(false, {\r\n    [fetchContactRequest]: () => true,\r\n    [fetchContactSuccess]: () => false,\r\n    [fetchContactError]: () => false,\r\n    [addContactRequest]: () => true,\r\n    [addContactSuccess]: () => false,\r\n    [addContactError]: () => false,\r\n    [deleteContactRequest]: () => true,\r\n    [deleteContactSuccess]: () => false,\r\n    [deleteContactError]: () => false,\r\n});\r\n\r\nconst filter = createReducer('', {\r\n    [onChangeFilter]: (_, {payload}) => payload,\r\n});\r\n\r\nconst error = createReducer(null, {});\r\n\r\n\r\nexport default combineReducers({\r\n    items,\r\n    filter,\r\n    loading,\r\n    error\r\n});\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import { configureStore, getDefaultMiddleware, combineReducers } from '@reduxjs/toolkit';\r\nimport logger from 'redux-logger';\r\nimport {\r\n  FLUSH,\r\n  REHYDRATE,\r\n  PAUSE,\r\n  PERSIST,\r\n  PURGE,\r\n  REGISTER\r\n} from \"redux-persist\";\r\nimport contactsReducer from './contacts/contacts-reducer';\r\n\r\n\r\n\r\n\r\nconst middleware = [...getDefaultMiddleware({\r\n        serializableCheck: {\r\n        ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\r\n    },\r\n}),\r\n    logger,\r\n];\r\n\r\n    \r\n\r\n\r\nconst store = configureStore({\r\n    reducer: {\r\n        contacts: contactsReducer,\r\n},\r\n    middleware,\r\n    devTools: process.env.NODE_ENV === 'development',\r\n});\r\n\r\n// const persistor = persistStore(store);\r\n\r\nexport default store; ","import React from 'react';\nimport ReactDOM from 'react-dom';\n// import './index.css';\nimport App from './App';\n// import reportWebVitals from './reportWebVitals';\nimport store from './redux/store'\nimport { Provider } from 'react-redux';\n// import { PersistGate } from 'redux-persist/integration/react';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      {/* <PersistGate loading={'Загружаем'} persistor={store.persistor}> */}\n        <App />\n      {/* </PersistGate> */}\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}